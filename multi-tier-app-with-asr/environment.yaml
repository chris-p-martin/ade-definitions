name: MultiTierVMwithASR
version: 1.0.0
summary: Multi-tier app with optional multi-region ASR failover
description: Deploy a highly available multi-tier application architecture with Web Apps and SQL Database, with optional Azure Site Recovery for disaster recovery.
runner: "acrdemodevcenter28d1i.azurecr.io/terraform-runner:latest"
templatePath: main.tf

parameters:
  - id: environment_name
    name: Environment Name
    description: Name for this environment (1-20 chars, lowercase alphanumeric and hyphens)
    type: string
    required: true

  - id: primary_location
    name: Primary Region
    description: Primary Azure region for active resources
    type: string
    required: false
    default: eastus
    allowed:
      - eastus
      - eastus2
      - westus
      - westus2
      - westus3
      - centralus
      - northeurope
      - westeurope
      - southeastasia
      - eastasia
      - japaneast

  - id: secondary_location
    name: Secondary Region
    description: Secondary region for ASR failover (must be different from primary)
    type: string
    required: false
    default: westus
    allowed:
      - eastus
      - eastus2
      - westus
      - westus2
      - westus3
      - centralus
      - northeurope
      - westeurope
      - southeastasia
      - eastasia
      - japaneast